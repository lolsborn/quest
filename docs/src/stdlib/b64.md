# B64 Module

The `b64` module provides Base64 encoding and decoding functionality.

## Encoding

### `b64.encode(data)`
Encode data to Base64 string

**Parameters:**
- `data` - String or bytes to encode (Str or Bytes)

**Returns:** Base64 encoded string (Str)

**Example:**
```quest
let encoded = b64.encode("Hello, World!")
puts(encoded)  # SGVsbG8sIFdvcmxkIQ==
```

### `b64.encode_url(data)`
Encode data to URL-safe Base64 string (uses `-` and `_` instead of `+` and `/`)

**Parameters:**
- `data` - String or bytes to encode (Str or Bytes)

**Returns:** URL-safe Base64 encoded string (Str)

**Example:**
```quest
let encoded = b64.encode_url("test+data/here")
puts(encoded)  # dGVzdCtkYXRhL2hlcmU=
```

### `b64.encode_no_pad(data)`
Encode data to Base64 without padding (`=` characters)

**Parameters:**
- `data` - String or bytes to encode (Str or Bytes)

**Returns:** Base64 encoded string without padding (Str)

**Example:**
```quest
let encoded = b64.encode_no_pad("Hello")
puts(encoded)  # SGVsbG8
```

## Decoding

### `b64.decode(encoded)`
Decode Base64 string to original data

**Parameters:**
- `encoded` - Base64 encoded string (Str)

**Returns:** Decoded string (Str)

**Raises:** Error if invalid Base64 string

**Example:**
```quest
let decoded = b64.decode("SGVsbG8sIFdvcmxkIQ==")
puts(decoded)  # Hello, World!
```

### `b64.decode_url(encoded)`
Decode URL-safe Base64 string

**Parameters:**
- `encoded` - URL-safe Base64 encoded string (Str)

**Returns:** Decoded string (Str)

**Example:**
```quest
let decoded = b64.decode_url("dGVzdCtkYXRhL2hlcmU=")
puts(decoded)  # test+data/here
```

### `b64.decode_bytes(encoded)`
Decode Base64 string to raw bytes

**Parameters:**
- `encoded` - Base64 encoded string (Str)

**Returns:** Decoded bytes (Bytes)

**Example:**
```quest
let bytes = b64.decode_bytes("SGVsbG8=")
# Returns raw byte array
```

## Validation

### `b64.is_valid(encoded)`
Check if string is valid Base64

**Parameters:**
- `encoded` - String to validate (Str)

**Returns:** Bool (true if valid Base64)

**Example:**
```quest
if b64.is_valid(user_input)
    let decoded = b64.decode(user_input)
    puts(decoded)
else
    puts("Invalid Base64 string")
end
```

### `b64.is_valid_url(encoded)`
Check if string is valid URL-safe Base64

**Parameters:**
- `encoded` - String to validate (Str)

**Returns:** Bool (true if valid URL-safe Base64)

## Common Use Cases

### Encoding Binary Data for Text Transmission
```quest
# Read binary file and encode for transmission
let file_data = io.read_bytes("image.png")
let encoded = b64.encode(file_data)
puts("Encoded image: ", encoded)
```

### Decoding API Responses
```quest
# Decode Base64 data from API
let api_response = http.get("https://api.example.com/data")
let decoded = b64.decode(api_response.body)
puts(decoded)
```

### URL-Safe Tokens
```quest
# Create URL-safe token
let token_data = "user:123:expires:2024"
let token = b64.encode_url(token_data)
puts("Token: ", token)

# Later, decode the token
let decoded_token = b64.decode_url(token)
puts("User data: ", decoded_token)
```

### Validating User Input
```quest
let user_input = io.read_line()

if !b64.is_valid(user_input)
    puts("Error: Invalid Base64 input")
    return
end

let decoded = b64.decode(user_input)
puts("Decoded: ", decoded)
```

### Encoding Configuration Data
```quest
# Encode config for storage
let config = json.stringify({"host": "localhost", "port": 8080})
let encoded_config = b64.encode(config)
io.write("config.b64", encoded_config)

# Decode config when loading
let loaded = io.read("config.b64")
let config_str = b64.decode(loaded)
let config_obj = json.parse(config_str)
puts("Host: ", config_obj.host)
```
