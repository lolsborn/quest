{% extends "base.html" %}

{% block title %}Home - A Bitsetter's Blog{% endblock %}

{% block content %}
{% if can_edit %}
<div style="margin-bottom: 1rem; text-align: right;">
  <a href="/admin" role="button" class="secondary outline" style="display: inline-block;">⚙️ Admin</a>
</div>
{% endif %}

<div class="grid">
  <section>
    {% for post in posts %}
    {% include "post_card.html" %}
    {% endfor %}

    {% if posts | length == 0 %}
    <article>
      <h2>No Posts Found</h2>
      <p>{% if current_tag %}No posts found with the tag "{{ current_tag }}". <a href="/">View all posts</a>{% else %}Check back soon for new content!{% endif %}</p>
    </article>
    {% endif %}
  </section>

  <aside>
    {% include "bio.html" %}

    {% if popular_posts %}
    <article>
      <h3>Popular Posts</h3>
      {% for post in popular_posts %}
        <div class="popular-post">
          <a href="/post/{{ post.slug }}">{{ post.title }}</a>
          <span class="view-count">({{ post.view_count }} views)</span>
        </div>
      {% endfor %}
    </article>
    {% endif %}
  </aside>
</div>
{% endblock %}
