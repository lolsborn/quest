{% extends "base.html" %}

{% block title %}Home - A Bitsetter's Blog{% endblock %}

{% block content %}
<div class="grid">
  <section>
    {% for post in posts %}
    <article>
      <h2><a href="/post/{{ post.slug }}">{{ post.title }}</a></h2>
      <p class="post-meta">{{ post.published_at_formatted }} â€¢ <span class="view-count">{{ post.view_count }} views</span></p>
      <div class="post-content">
        {{ post.content | safe }}
      </div>
    </article>
    {% endfor %}

    {% if posts | length == 0 %}
    <article>
      <h2>No Posts Yet</h2>
      <p>Check back soon for new content!</p>
    </article>
    {% endif %}
  </section>

  <aside>
    {% include "bio.html" %}

    {% if popular_posts %}
    <article>
      <h3>Popular Posts</h3>
      {% for post in popular_posts %}
        <div class="popular-post">
          <a href="/post/{{ post.slug }}">{{ post.title }}</a>
          <span class="view-count">({{ post.view_count }} views)</span>
        </div>
      {% endfor %}
    </article>
    {% endif %}
  </aside>
</div>
{% endblock %}
