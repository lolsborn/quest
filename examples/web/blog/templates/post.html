{% extends "base.html" %}

{% block title %}{{ post.title }} - A Bitsetter's Blog{% endblock %}

{% block content %}
<div class="grid">
  <section>
    <article>
      <h1>{{ post.title }}</h1>
      <p class="post-meta">{{ post.published_at_formatted }} • <span class="view-count">{{ post.view_count }} views</span></p>

      <div class="post-content" style="line-height: 1.6;">
        {{ post.content | safe }}
      </div>

      <footer>
        <a href="/" role="button" class="secondary outline">← Back to Home</a>
        <a href="/edit/{{ post.slug }}" role="button" class="contrast">Edit Post</a>
      </footer>
    </article>
  </section>

  <aside>
    {% include "bio.html" %}

    {% if popular_posts %}
    <article>
      <h3>Popular Posts</h3>
      {% for popular in popular_posts %}
        <div class="popular-post">
          <a href="/post/{{ popular.slug }}">{{ popular.title }}</a>
          <span class="view-count">({{ popular.view_count }} views)</span>
        </div>
      {% endfor %}
    </article>
    {% endif %}
  </aside>
</div>
{% endblock %}
